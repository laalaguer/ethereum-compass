æ¥æ”¶æŒ–çŸ¿å¥–åŠ±
===============================

æ­å–œä½ ï¼Œè‡³æ­¤æˆ‘ä»¬å·²ç»æˆåŠŸå®Œæˆäº†åˆ›ä¸–å¹¶ä¸”å¯åŠ¨äº†æˆ‘ä»¬ç§æœ‰çš„ä»¥å¤ªåŠé“¾ï¼Œç›®å‰è¿™ä¸ªé“¾ä¸Šæœ‰ä¸”ä»…æœ‰æˆ‘ä»¬ä¸€å°è®¡ç®—æœºåœ¨åšæŒ–æ˜å·¥ä½œï¼Œè™½ç„¶ä¸åœåœ°æŒ–æ˜å‡ºäº†å¾ˆå¤šåŒºå—ï¼Œä½†è¿™äº›åŒºå—éƒ½æ˜¯ç©ºåŒºå—ï¼ŒåŒæ—¶æŒ–çŸ¿å¥–åŠ±ä¹Ÿæ±‡å…¥äº†ä¸€ä¸ªæˆ‘ä»¬éšæœºæŒ‡å®šçš„è´¦æˆ·å†…ï¼š

.. centered:: 0x7df9a875a174b3bc565e6424a0050ebc1b2d1d82

è¿™ä¸ªåœ°å€æˆ‘ä»¬æ²¡æœ‰å®ƒçš„ç§é’¥ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™éƒ¨åˆ†æ±‡å…¥çš„å¸å°±æ°¸è¿œä¸å¯èƒ½ä¸ºæˆ‘ä»¬æ‰€ç”¨ã€‚æˆ‘ä»¬ä¸‹é¢æ¥åº”ç”¨ :ref:`reference-account` æ‰€å­¦çš„è´¦æˆ·çŸ¥è¯†ï¼Œç”Ÿæˆä¸¤ä¸ªä»¥å¤ªåŠè´¦æˆ·å¹¶ä¸”å°†å…¶ä¸­ä¸€ä¸ªè®¾ç½®ä¸ºæŒ–çŸ¿çš„å¥–åŠ±åœ°å€æ›¿æ¢ä¸Šæ–¹çš„åœ°å€ã€‚

**è¯·ç¡®ä¿ä½ çš„GethèŠ‚ç‚¹å°šåœ¨è¿è¡Œ** ï¼Œæˆ‘ä»¬æ–°å¼€å‘½ä»¤è¡Œçª—å£æ‰§è¡Œ attach å‘½ä»¤ä¾é™„ä¸Šæ­£åœ¨è¿è¡Œä¸­çš„GethèŠ‚ç‚¹ï¼š

.. code-block:: bash
   :linenos:

   cd ether-test
   geth --datadir ./db attach ipc:./db/geth.ipc

åœ¨æ§åˆ¶å°ä¸Šæˆ‘ä»¬ç”¨personalåŠŸèƒ½æ¨¡å—æ–°å»ºä¸¤ä¸ªè´¦æˆ·ï¼Œåˆ†åˆ«ç”±123å¯†ç å’Œ 456æ¥ä¿æŠ¤ã€‚

.. code-block:: bash
   :linenos:

   > personal.newAccount('123')
   "0x53dc408a8fa060fd3b72b30ca312f4b3f3232f4f"
   > personal.newAccount('456')
   "0x6c8f6c9d9f8d63503fc10977db48cd92a15d34ff"

ç”Ÿæˆåæˆ‘ä»¬å·²ç»çœ‹åˆ°æ§åˆ¶å°ä¸Šåˆ†åˆ«è¾“å‡ºäº†ä¸¤ä¸ªåœ°å€ï¼Œå®ƒä»¬å°±æ˜¯ç”Ÿæˆå¥½çš„ä¸¤ä¸ªè´¦æˆ·çš„å…¬å¼€åœ°å€ï¼Œç°åœ¨è¿™äº›åœ°å€å·²ç»å‡†å¤‡å¥½èƒ½å¤Ÿæ”¶å—ä»¥å¤ªå¸ã€‚

.. Note::

   ç”Ÿæˆçš„ä¸¤ä¸ªè´¦æˆ·ä¿¡æ¯å·²ç»æŒ‰ç…§ :ref:`reference-keystore` çš„ keystore å½¢å¼åŠ å¯†å­˜å‚¨äºæœ¬æœºç¡¬ç›˜ï¼Œåœ¨å‘é€äº¤æ˜“å‰çš„ç­¾åç¯èŠ‚ï¼Œç”¨æˆ·ä»…éœ€é€šè¿‡æç¤ºè¾“å…¥å¯¹åº”çš„å¯†ç 123æˆ–456å°±å¯ä»¥ä¸´æ—¶è§£é”è´¦æˆ·ä¿¡æ¯è½½å…¥å†…å­˜ï¼Œæ‰§è¡Œç­¾åæ“ä½œã€‚

æˆ‘ä»¬ç”¨ethåŠŸèƒ½æ¨¡å—æ¥æ£€æŸ¥ä¸€ä¸‹è¿™ä¸¤ä¸ªè´¦æˆ·çš„ä»¥å¤ªå¸ä½™é¢ã€‚

.. code-block:: bash
   :linenos:

   > eth.accounts
   ["0x53dc408a8fa060fd3b72b30ca312f4b3f3232f4f", "0x6c8f6c9d9f8d63503fc10977db48cd92a15d34ff"]
   
   > web3.fromWei(eth.getBalance(eth.accounts[0]), "ether")
   0
   > web3.fromWei(eth.getBalance(eth.accounts[1]), "ether")
   0

æˆ‘ä»¬ç”¨ ``web3`` åŠŸèƒ½æ¨¡å—çš„ ``fromWei()`` æ¢ç®—åŠŸèƒ½å¸®åŠ©æˆ‘ä»¬æ¢ç®—äº†è´¦æˆ·ä½™é¢ï¼Œå¦‚æˆ‘ä»¬æ‰€é¢„æ–™çš„ï¼Œè´¦æˆ·ä½™é¢ä¸º ``0`` ã€‚åœ¨ä»¥å¤ªåŠçš„ä¸–ç•Œé‡Œæ²¡æœ‰æµ®ç‚¹æ•°å°æ•°ç‚¹ï¼Œåªæœ‰æ•´æ•°ã€‚æ‰€ä»¥å½¢å¦‚ ``3.1415`` çš„å°æ•°åœ¨ä»¥å¤ªåŠé‡Œæ˜¯æ— æ³•è¡¨ç¤ºçš„ï¼Œè¿™é‡Œé‡‡ç”¨äº† ``Wei`` ä¸ºå•ä½è¡¨ç¤ºä»¥å¤ªåŠä¸å¯åˆ†å‰²çš„æœ€å°å•ä½ï¼Œå°†æ‰€æœ‰å°æ•°è½¬åŒ–ä¸ºå¤§æ•´æ•°è¿ç®—ï¼Œ

.. centered:: :math:`1 {Ether}=1 x 10^{18} {wei}` 

æˆ‘ä»¬ç”¨ ``web3`` åº“çš„æ¢ç®—åŠŸèƒ½å¸®åŠ©æˆ‘ä»¬æ¢ç®—äº†è´¦æˆ·ä½™é¢ï¼Œå¦‚æˆ‘ä»¬æ‰€é¢„æ–™çš„ï¼Œè´¦æˆ·ä½™é¢ä¸º ``0`` ã€‚

ä¸ºäº†åœ¨ç§é“¾ä¸Šè·å–ä»¥å¤ªå¸ä¾›æµ‹è¯•ä½¿ç”¨ï¼Œæˆ‘ä»¬è®¾å®šå…¶ä¸­ä¸€ä¸ªè´¦æˆ·çš„åœ°å€ä¸ºæŒ–çŸ¿å¥–åŠ±åœ°å€ï¼Œè¿™æ ·æˆ‘ä»¬å°±æœ‰æºæºä¸æ–­çš„ä»¥å¤ªå¸å¯ä»¥åšå®éªŒä½¿ç”¨ï¼Œæˆ‘ä»¬æ¥ç”¨mineråŠŸèƒ½æ¨¡å—è®¾å®šä¸€ä¸‹æŒ–çŸ¿åœ°å€ã€‚

.. code-block:: bash
   :linenos:

   > miner.setEtherbase(eth.accounts[0])
   true

æˆ‘ä»¬å†æ¥ç”¨ethåŠŸèƒ½æ¨¡å—æ£€æŸ¥ä¸€ä¸‹ï¼Œæ˜¯å¦æŒ–çŸ¿æ”¶ç›Šåœ°å€coinbaseå·²ç»æ˜¯æˆ‘ä»¬çš„åœ°å€ï¼š


.. code-block:: bash
   :linenos:

   > eth.coinbase
   "0x53dc408a8fa060fd3b72b30ca312f4b3f3232f4f"

è®¾ç½®æˆåŠŸï¼æ¥ä¸‹æ¥æˆ‘ä»¬å°±å¯ä»¥é‡æ–°é€šçŸ¥GethèŠ‚ç‚¹å»å¯åŠ¨æŒ–çŸ¿ï¼Œç„¶ååç­‰æˆ‘ä»¬çš„ä»¥å¤ªå¸æµå…¥ç¬¬ä¸€ä¸ªè´¦æˆ·äº†ã€‚è¯·é‡å¯æŒ–çŸ¿ã€‚

.. code-block:: bash

   > miner.start(1)
   INFO [09-16|16:50:01.593] Updated mining threads                   threads=1
   INFO [09-16|16:50:01.593] Transaction pool price threshold updated price=18000000000
   INFO [09-16|16:50:01.593] Commit new mining work                   number=151 uncles=0 txs=0 gas=0 fees=0 elapsed=128.418Âµs
   INFO [09-16|16:50:04.716] Successfully sealed new block            number=151 hash=3dd6ecâ€¦4f2db0 elapsed=3.122s
   INFO [09-16|16:50:04.717] ğŸ”— block reached canonical chain          number=146 hash=ae7080â€¦7e0b58
   INFO [09-16|16:50:04.717] ğŸ”¨ mined potential block                  number=151 hash=3dd6ecâ€¦4f2db0
   INFO [09-16|16:50:04.717] Commit new mining work                   number=152 uncles=0 txs=0 gas=0 fees=0 elapsed=96.018Âµs
   INFO [09-16|16:50:05.424] Successfully sealed new block            number=152 hash=e9220eâ€¦449524 elapsed=706.860ms

è¿™é‡Œ ``miner.start()`` ä»£å…¥å‚æ•° ``1`` ä»£è¡¨äº†æˆ‘ä»¬å¯åŠ¨æŒ–çŸ¿æ—¶å€™ä»…ä»…å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹æŒ–çŸ¿ã€‚ç°åœ¨æ¯éš” 5-10 ç§’å°±æœ‰ä¸€ä¸ªæ–°çš„å—è¢«æŒ–å‡ºï¼ˆä¸åŒ…å«ä»»ä½•äº¤æ˜“ï¼Œæ˜¯ç©ºå—ï¼‰ï¼Œç¨ç­‰ä¸€ä¼šå„¿ï¼Œæˆ‘ä»¬å†æ¬¡æ¥æ£€æŸ¥ä¸€ä¸‹å„ä¸ªè´¦æˆ·çš„ä½™é¢æƒ…å†µã€‚

.. code-block:: bash

   > eth.accounts
   ["0x53dc408a8fa060fd3b72b30ca312f4b3f3232f4f", "0x6c8f6c9d9f8d63503fc10977db48cd92a15d34ff"]
   
   > web3.fromWei(eth.getBalance(eth.accounts[0]), "ether")
   650
   > web3.fromWei(eth.getBalance(eth.accounts[1]), "ether")
   0

å¯ä»¥çœ‹åˆ°å·²ç»æœ‰ä¸€ä¸ªè´¦æˆ·æ”¶åˆ°äº†æŒ–çŸ¿å¥–åŠ±ï¼ŒæŒæœ‰650ä¸ªå¸äº†ã€‚

